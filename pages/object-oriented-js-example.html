
<!DOCTYPE html>

<html>

    <head>

        <meta charset="utf-8">

        <title>Object-oriented JavaScript example</title>

    </head>

    <body>

        <div>
            
            <label for="jscode">Enter code:</label>

            <input type="text" id="jscode">

            <button>Submit code</button>
        
        </div>

        <p></p>

        <script>

            var input = document.querySelector('input');
            var btn = document.querySelector('button');
            var para = document.querySelector('p');

            btn.onclick = function () {
                var code = input.value;
                para.textContent = eval(code);
            }

            // Object literal
            var person = {
                name: {
                    first: 'Bob',
                    last: 'Smith'
                },
                age: 32,
                gender: 'male',
                interests: ['music', 'skiing'],
                bio: function () {
                    alert(this.name.first + ' ' + this.name.last + ' is ' + this.age + ' years old. He likes ' + this.interests[0] + ' and ' + this.interests[1] + '.');
                },
                greeting: function () {
                    alert('Hi! I\'m ' + this.name.first + '.');
                }
            };

            var myDataName = 'height';
            var myDataValue = '1.75m';
            person[myDataName] = myDataValue;

            // Constructor function (JavaScript's version of class)
            function Person(first, last, age, gender, interests) {
                this.name = {
                    first,
                    last
                };
                this.age = age;
                this.gender = gender;
                this.interests = interests;
                this.bio = function () {
                    // initial bio string
                    var bioString = this.name.first + ' ' + this.name.last + ' is ' + this.age + ' years old. ';
                    // find appropriate pronoun
                    var pronoun;
                    if (this.gender.toUpperCase() === 'MALE' || this.gender.toUpperCase() === 'M') {
                        pronoun = 'He likes ';
                    } else if (this.gender.toUpperCase() === 'FEMALE' || this.gender.toUpperCase() === 'F') {
                        pronoun = 'She likes ';
                    } else {
                        pronoun = 'They like ';
                    }
                    // add pronoun to end to the initial bio string
                    bioString += pronoun;

                    // finish bio string
                    if (this.interests.length === 1) {
                        bioString += this.interests[0] + '.';
                    } else if (this.interests.length === 2) {
                        bioString += this.interests[0] + ' and ' + this.interests[1] + '.';
                    } else {
                        // else interests array has more than 2 elements
                        for (var i = 0; i < this.interests.length; i++) {
                            if (i === this.interests.length - 1) {
                                // if last index of array, add end of string
                                bioString += 'and ' + this.interests[i] + '.'
                            } else {
                                // else add interest index to string followed by comma
                                bioString += this.interests[i] + ', ';
                            }
                        }
                    }

                    // output final bio string
                    alert(bioString);
                };
                this.greeting = function () {
                    alert('Hi! I\'m ' + this.name.first + '.');
                };
            }

            var person1 = new Person('Sarah', 'Smith', 26, 'f', ['music', 'skiing']);
            var person2 = new Person('Todd', 'Brentlinger', 30, 'male', ['movies', 'video games', 'programming', 'politics']);
            var person3 = new Person('James', 'Bond', 33, 'neutral', ['women', 'liquor', 'killing']);

        </script>
         
    </body>

</html>